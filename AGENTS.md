# エージェント開発のガイドライン

このドキュメントは、各エージェントが効率的に開発を進めるためのガイドラインを定義します。

## 1. 参考ドキュメント

開発の各フェーズで、以下のドキュメントを参照してください。

*   **[ゲーム概要](docs/dev/概要.md)**
*   **[UI/UX](docs/dev/UIUX.md)**
*   **[ゲームシステム](docs/dev/システム.md)**
*   **[ゲームストーリー](docs/dev/ストーリー.md)**
*   **[グラフィックデザイン](docs/dev/デザイン.md)**

## 2. タスクの進め方

すべてのタスクは [TASKS.md](TASKS.md) ファイルで管理されます。割り当てられたタスクを [TASKS.md](TASKS.md) で確認し、作業に着手してください。

### ワークフロー

1.  **タスクの確認**: [TASKS.md](TASKS.md) にタスク一覧が表示されています。完了済みタスクとこれから着手すべきタスクを確認します。
2.  **タスクの実施**: [TASKS.md](TASKS.md) に記述された要件に従い、開発を進めます。
3.  **進捗報告**: 作業の進捗は [TASKS.md](TASKS.md) のステータスを更新することで報告します。
4.  **完了報告**: タスクが完了したら、 [TASKS.md](TASKS.md) のステータスを「完了」にします。

## 3. 開発手法

本プロジェクトでは、和田卓人氏やKent Beck氏が提唱するテスト駆動開発（TDD）を厳格に適用します。

### TDDのサイクル：「レッド・グリーン・リファクタリング」

1.  **ふるまいの作成**:
    *   **目的**: 新しい機能や修正のふるまいを明確に定義します。
    *   **手順**:
        1.  [TASKS.md](TASKS.md) に記載された要件を確認します。
        2.  その要件に基づいて、具体的なふるまいをいくつか定義します。

2.  **レッドフェーズ（Red）**:
    *   **目的**: これから実装する機能に対する「ふるまい」をテストコードとして表現します。
    *   **手順**:
        1.  ふるまいのリストから1つを選びます。
        2.  ふるまいに対して準備と実行と検証が備わった、自動化された **必ず失敗する** 単体テストを記述します。
        3.  この時点では、対応するプロダクトコードは存在しないか、不完全であるべきです。
        4.  テストを実行し、期待通りに「赤（失敗）」になることを確認します。

3.  **グリーンフェーズ（Green）**:
    *   **目的**: テストをパスさせるための最小限のコードを、迅速に実装します。
    *   **手順**:
        1.  レッドフェーズで書いたテストを成功させることだけを考え、プロダクトコードを記述します。
        2.  この段階では、コードの綺麗さや効率性は問いません。「動くコード」を最優先します。
        3.  テストを実行し、「緑（成功）」になることを確認します。

4.  **リファクタリングフェーズ（Refactoring）**:
    *   **目的**: テストが通る状態を維持しながら、コードの品質を向上させます。
    *   **手順**:
        1.  プロダクトコードとテストコードの両方を見直し、重複の排除、命名の改善、複雑なロジックの単純化などを行います。
        2.  リファクタリングの前後で、常にテストが成功することを確認します。これにより、既存の振る舞いを壊していないことを保証します。

5.  **繰り返し**:
    *   **目的**: 現在のタスクを完了し、次のタスクへと進むためのサイクルを繰り返します。
    *   **手順**:
        1.  上記の「レッド・グリーン・リファクタリング」のサイクルを繰り返し、 `1. ふるまいの作成` で定義したすべてのふるまいに対して成功するテストが書けるまで続けます。

このサイクルを小さな単位で高速に繰り返すことで、バグの少ない、保守性の高いコードベースを構築します。
