# アセットパイプライン定義書

このドキュメントは、「ココロジック・カフェ」プロジェクトにおけるアセット（画像、サウンドなど）の管理方針と規約を定義します。

## 1. 基本方針

- **命名規則**: すべてのアセットファイル名は、`kebab-case`（例: `main-character-idle.png`）で統一し、そのアセットの内容が明確にわかるように命名します。
- **ディレクトリ構造**: アセットの種類ごとに、`src/assets/` ディレクトリ以下にサブディレクトリを作成して管理します。
  - `src/assets/images/characters/`
  - `src/assets/images/ui/`
  - `src/assets/images/decorations/`
  - `src/assets/sounds/bgm/`
  - `src/assets/sounds/sfx/`

## 2. 画像アセット

- **フォーマット**:
  - **PNG**: キャラクターのスプライトシート、UIアイコン、背景など、透過が必要な画像や、高い品質が求められる画像に使用します。
  - **JPEG**: 写真のような、透過が不要で色数が多い画像に使用します（本作では使用頻度は低い見込み）。
- **スプライトシート**:
  - キャラクターなどのアニメーションは、スプライトシートとして1枚の画像にまとめます。
  - アニメーションの各フレームは、グリッド状に等間隔で配置します。
  - フレームサイズやアニメーションのシーケンス（例：`idle`がどのフレームか）は、`react-konva`の`animations`プロパティで定義します（`component-design.md`参照）。
- **最適化**:
  - デプロイ前に、すべての画像アセットに対して画像圧縮ツール（例: [TinyPNG](https://tinypng.com/), ImageOptim）を適用し、ファイルサイズを削減することを推奨します。

## 3. サウンドアセット

- **フォーマット**:
  - **MP3**: BGMなど、ファイルサイズが大きくなりがちな長時間再生のサウンドに使用します。
  - **WAV** または **OGG**: UIのクリック音など、短い効果音（SFX）に使用します。ブラウザの互換性を考慮し、複数のフォーマットを用意することが望ましい場合があります。
- **音量**: すべてのサウンドアセットは、ゲームエンジン側で最終的な音量調整を行うことを前提としつつも、あらかじめ適切な音量レベルに正規化されていることが望ましいです。

これらの規約に従うことで、アセットの管理を効率化し、ゲームのパフォーマンスと品質を維持します。
